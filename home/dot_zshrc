autoload -Uz compinit promptinit
compinit
promptinit

setopt autocd

ttyctl -f

# history
HISTFILE=~/.zsh_history
SAVEHIST=1000  # max lines saved in HISTFILE
HISTSIZE=1000  # lenght of loaded hist in memory

# antigen
ZSH_BASE=$HOME/.config/zsh
source $ZSH_BASE/antigen/antigen.zsh

antigen use oh-my-zsh

antigen bundle djui/alias-tips
antigen bundle aliases
antigen bundle command-not-found
antigen bundle docker
antigen bundle docker-compose
antigen bundle git
antigen bundle kube-ps1
antigen bundle kubectl
antigen bundle tmux
antigen bundle tmuxinator
antigen bundle virtualenv
antigen bundle woefe/git-prompt.zsh
antigen bundle zsh-users/zsh-autosuggestions
antigen bundle zsh-users/zsh-history-substring-search
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle jeffreytse/zsh-vi-mode

case `uname` in
    Darwin)
        antigen bundle macos
        ;;
    Linux)
        ;;
esac

antigen theme ~/.config/zsh oneline.zsh-theme --no-local-clone

antigen apply

# defaults
export EDITOR='nvim'
source $ZSH_BASE/aliases.zsh

# set dircolors for ls and fd
if command -v dircolors > /dev/null; then
    test -r "~/.dir_colors" && eval $(dircolors ~/.dir_colors)
    zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}
else
    export CLICOLOR=1
    zstyle ':completion:*:default' list-colors ''
fi
